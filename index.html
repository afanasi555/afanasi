<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match-3 –∏–≥—Ä–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f0f0;
        }

        h1 {
            margin-top: 20px;
        }

        .game-menu, .level-select, .shop {
            margin: 10px;
            padding: 10px;
            border: 2px solid #000;
            border-radius: 10px;
            background-color: #fff;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(8, 60px);
            grid-template-rows: repeat(8, 60px);
            gap: 5px;
            margin: 20px 0;
        }

        .cell {
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 30px;
            background-color: #fff;
            border: 1px solid #ccc;
            cursor: pointer;
        }

        .bomb {
            background-color: red;
            color: white;
        }

        .game-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .game-button {
            padding: 10px 20px;
            border: none;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            border-radius: 5px;
        }

        .game-button:disabled {
            background-color: #cccccc;
        }

        .shop-button {
            font-size: 20px;
            margin-left: 10px;
        }

        .level-button {
            display: inline-block;
            margin: 5px;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }

        .locked {
            background-color: gray;
        }

        .frozen {
            background-color: rgba(173, 216, 230, 0.6); /* –ª–µ–¥ */
        }

        .task-list {
            margin-top: 10px;
        }

        .task-item {
            margin-bottom: 5px;
        }
    </style>
</head>
<body>

    <h1>Match-3 –∏–≥—Ä–∞</h1>

    <div class="game-menu">
        <button class="game-button" onclick="startGame()">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        <button class="game-button" onclick="pauseGame()">–ü–∞—É–∑–∞</button>
        <button class="game-button" onclick="resetGame()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ üîÉ</button>
        <button class="game-button" onclick="undoMove()">–û—Ç–º–µ–Ω–∏—Ç—å —Ö–æ–¥</button>
        <div class="shop-button" onclick="openShop()">–ú–∞–≥–∞–∑–∏–Ω üõçÔ∏è</div>
    </div>

    <div class="level-select">
        <h2>–í—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è</h2>
        <div id="levels">
            <div class="level-button" onclick="selectLevel(1)">–£—Ä–æ–≤–µ–Ω—å 1 üåüüåüüåü</div>
            <div class="level-button locked" onclick="selectLevel(2)">–£—Ä–æ–≤–µ–Ω—å 2 (–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)</div>
            <!-- –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –∫–Ω–æ–ø–æ–∫ —É—Ä–æ–≤–Ω–µ–π –∑–¥–µ—Å—å -->
        </div>
    </div>

    <div class="shop" style="display: none;">
        <h2>–ú–∞–≥–∞–∑–∏–Ω üõçÔ∏è</h2>
        <div>
            <p>–ú–æ–Ω–µ—Ç—ã: üåï <span id="coins">0</span></p>
            <button class="game-button" onclick="buyBomb()">–ö—É–ø–∏—Ç—å –±–æ–º–±—É üí£ (40 –º–æ–Ω–µ—Ç)</button>
            <button class="game-button" onclick="buyMove()">–ö—É–ø–∏—Ç—å —Ö–æ–¥ (1 –º–æ–Ω–µ—Ç–∞)</button>
        </div>
    </div>

    <div class="game-board">
        <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ 8x8, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —è—á–µ–π–∫–∞–º–∏ -->
        <div class="cell">üçì</div>
        <div class="cell">üçí</div>
        <div class="cell">üí¶</div>
        <div class="cell">üî•</div>
        <!-- –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è -->
    </div>

    <div class="game-controls">
        <p>–û—Å—Ç–∞–ª–æ—Å—å —à–∞–≥–æ–≤: <span id="moves">0</span></p>
        <div id="task-list" class="task-list">
            <p class="task-item">–ó–∞–¥–∞—á–∞ 1: –°–æ–±—Ä–∞—Ç—å 3 üçì</p>
            <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
    </div>

    <script>
        let moves = 20;
        let coins = 0;
        let currentLevel = 1;
        let tasks = [{emoji: "üçì", count: 3}];  // –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è

        function startGame() {
            alert('–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å!');
            generateBoard();
        }

        function pauseGame() {
            alert('–ò–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ.');
        }

        function resetGame() {
            alert('–ò–≥—Ä–∞ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∞!');
            generateBoard();
        }

        function undoMove() {
            alert('–•–æ–¥ –æ—Ç–º–µ–Ω–µ–Ω.');
        }

        function openShop() {
            document.querySelector('.shop').style.display = 'block';
        }

        function selectLevel(level) {
            if (level > currentLevel) {
                alert('–≠—Ç–æ—Ç —É—Ä–æ–≤–µ–Ω—å –ø–æ–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.');
                return;
            }
            currentLevel = level;
            alert(`–í—ã –≤—ã–±—Ä–∞–ª–∏ —É—Ä–æ–≤–µ–Ω—å ${level}`);
            // –õ–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Ä–æ–≤–Ω—è
            loadLevel(level);
        }

        function loadLevel(level) {
            moves = 20 + level * 5;  // –ü—Ä–∏–º–µ—Ä —É–≤–µ–ª–∏—á–µ–Ω–∏—è —à–∞–≥–æ–≤ —Å –∫–∞–∂–¥—ã–º —É—Ä–æ–≤–Ω–µ–º
            tasks = generateTasksForLevel(level);  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á
            updateTaskList();
            generateBoard();  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
        }

        function generateTasksForLevel(level) {
            let taskList = [];
            if (level >= 5) {
                // –° 5 —É—Ä–æ–≤–Ω—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á
                taskList.push({emoji: "üçì", count: 5});
                taskList.push({emoji: "üçí", count: 4});
            } else {
                taskList.push({emoji: "üçì", count: 3 + level});
            }
            return taskList;
        }

        function updateTaskList() {
            let taskListDiv = document.getElementById("task-list");
            taskListDiv.innerHTML = "";
            tasks.forEach((task, index) => {
                taskListDiv.innerHTML += `<p class="task-item">–ó–∞–¥–∞—á–∞ ${index + 1}: –°–æ–±—Ä–∞—Ç—å ${task.count} ${task.emoji}</p>`;
            });
        }

        function generateBoard() {
            let board = document.querySelector('.game-board');
            board.innerHTML = "";  // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ
            for (let i = 0; i < 64; i++) {
                let cell = document.createElement('div');
                cell.className = 'cell';
                cell.textContent = getRandomEmoji();  // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
                board.appendChild(cell);
            }
        }

        function getRandomEmoji() {
            const emojis = ["‚≠ê", "‚ú®", "üí¶", "üî•", "üéâ", "‚ù§Ô∏è", "üçì", "üçí", "üçâ", "üçï", "üê±", "üêØ"];
            return emojis[Math.floor(Math.random() * emojis.length)];
        }

        function buyBomb() {
            if (coins >= 40) {
                coins -= 40;
                alert('–ë–æ–º–±–∞ –∫—É–ø–ª–µ–Ω–∞!');
            } else {
                alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç.');
            }
            updateCoins();
        }

        function buyMove() {
            if (coins >= 1) {
                coins -= 1;
                moves += 1;
                updateMoves();
            } else {
                alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç.');
            }
        }

        function updateCoins() {
            document.getElementById("coins").textContent = coins;
        }

        function updateMoves() {
            document.getElementById("moves").textContent = moves;
        }

        function checkMatch() {
            // –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –∏ —É–¥–∞–ª–µ–Ω–∏—è 3 –≤ —Ä—è–¥
        }

        function bombExplosion() {
            // –õ–æ–≥–∏–∫–∞ –≤–∑—Ä—ã–≤–∞ –±–æ–º–±—ã –∏ –ø–æ–¥—Å—á–µ—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        }

        function generateLevel(level) {
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–æ–º–µ—Ä–∞
        }
    </script>

</body>
</html>
